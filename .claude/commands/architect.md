---
allowed-tools: Read, Grep, Glob, WebSearch, WebFetch, Task
description: Deep architectural planning for conceptual requirements with elegant codebase integration
---

# Architectural Planning Workflow

## Usage
Execute with conceptual requirement: `/architect [CONCEPTUAL_REQUIREMENT]`

**Example**: `/architect implement a new spiral layout where nodes orbit around a central focus point`

## Core Approach

Transform conceptual requirements into elegant, coherent implementation plans that seamlessly extend existing codebase patterns with maximum robustness and reliability.

**Think ultra hard about how to do this and take all the time you need.**

## Pattern Discovery Research
**Take all the time needed to thoroughly understand the current landscape**

- **Existing implementations**: Search codebase for similar or related functionality
- **Architecture precedents**: Identify established patterns that could be extended
- **Service abstractions**: Understand current service layer boundaries
- **Layout systems**: Analyze existing spatial positioning and animation patterns
- **Component architecture**: Review React Three Fiber integration approaches

Use Task tool for comprehensive exploration when needed.

## External Research (When Necessary)
**Use your judgement to determine if external research would enhance the solution**

- **Industry patterns**: WebSearch for architectural approaches to similar problems
- **Technology integration**: Research relevant libraries, frameworks, or approaches
- **Performance considerations**: Research scalability and optimization patterns

## Deep Thinking & Conceptual Mapping

**Core Questions - Think ultra hard about these:**
- **What is the essential nature** of this conceptual requirement?
- **How does this requirement align** with existing system architecture?
- **What existing systems or patterns** are most relevant for extension?
- **What would be the most elegant way** to integrate this conceptually?
- **What would be the most robust approach** that scales with the system?

## Pattern Identification & Extension Strategy

**Identify the most elegant ways to extend current architecture:**
- **Service layer extension**: How can existing service interfaces be extended?
- **Layout system integration**: How does this fit with SpatialOrchestrator patterns?
- **State management**: How does this integrate with Zustand store architecture?
- **Component reuse**: How can existing abstractions be leveraged?
- **Command integration**: How should this connect to command palette?

**Design for maximum architectural coherence:**
- **Least surprise principle**: How can this feel natural within existing patterns?
- **Minimal complexity addition**: What's the simplest way to achieve the requirement?
- **Future extensibility**: How can this support future enhancements?

## Robustness & Reliability Design

- **Error resilience**: How does the system behave when components fail?
- **Performance considerations**: Ensure no regressions or bottlenecks
- **Type safety**: How can TypeScript ensure correctness?
- **Testing integration**: How can this be thoroughly validated?

## Implementation Approach

**High-level roadmap focusing on elegance and coherence:**
- **Core infrastructure**: What foundational changes are needed?
- **Integration points**: How does this connect to existing systems?
- **User experience**: How should this feel to use?
- **Quality assurance**: What validation is required?

## Success Criteria

**Solution demonstrates:**
✅ **Elegance**: Natural extension of existing patterns with minimal complexity
✅ **Coherence**: Seamless integration that feels native to the architecture
✅ **Robustness**: Error-resilient design with graceful degradation
✅ **Reliability**: Predictable behavior with comprehensive error handling

**Trust the process**: Take whatever time is needed for thorough research and deep thinking. The goal is elegance, coherence, and architectural excellence.